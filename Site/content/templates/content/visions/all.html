{% extends "content/base.html" %}
{% load static %}

{% block content %}
<div class="container">
 <div class="section">
  <div class="row z-depth-3">
   <div class="col s12">
    <h2 class="center">All Visions</h2>
   </div><!-- .col -->
  </div><!-- .row -->
 </div><!-- .section -->
</div><!-- .container -->

<div class="container">
 <div class="section">
  <div class="row">

  {% for vis_dict in visions_list_obj.visions_list_data %}
   {% if vis_dict.col_classes %}
   <div class="col hoverable {{ vis_dict.col_classes }}">
   {% else %}
   <div class="col hoverable s12 m6 l6">
   {% endif %}
   {% if vis_dict.vision_type == 'person' %}
    <div class="person-card z-depth-3">
     <div class="card sticky-action hoverable">
      <h4 class="center">{{ vis_dict.title }}</h4>
      <div class="card-image waves-effect waves-block waves-light">
       <a href="/visions/story/{{ vis_dict.vision_file_no_ext }}"
          title="Go to the story about {{ vis_dict.title }}">
        <img src="{% static vis_dict.image_file_path %}"></a>
      </div>
      {% if vis_dict.subtitle %}
       <h5 class='center'>{{ vis_dict.subtitle }}</h5>
      {% endif %}
      <div class="card-reveal">
       <a title="Back to the image">
        <span class="card-title grey-text text-darken-4">{{ vis_dict.title }}
         <i class="material-icons right large">arrow_drop_down</i></span></a>
       {{ vis_dict.card_reveal_html|safe }}
      </div>
      <div class="card-content">
       <a title="Show the backstory">
        <span class="card-title activator grey-text text-darken-4">
         <i class="material-icons right large">arrow_drop_up</i></span></a>
       {{ vis_dict.card_content_html|safe }}
      </div>
      <div class="card-action center">
       <a href="/visions/story/{{ vis_dict.vision_file_no_ext }}"
          title="Read the story about {{ vis_dict.title }}"
          class="waves-effect waves-light btn">Read the Story</a>
      </div>
     </div><!-- .card -->
    </div><!-- .person-card -->
   {% elif vis_dict.vision_type == 'people' %}
    <div class="people-card z-depth-3">
     <h4 class="center">{{ vis_dict.title }}</h4>
     <div class="card sticky-action hoverable">
      <div class="card-image waves-effect waves-block waves-light">
       <img class="activator" src="{% static vis_dict.image_file_path %}">
      </div>
      {% if vis_dict.subtitle %}
       <h5 class='center'>{{ vis_dict.subtitle }}</h5>
      {% endif %}
      <div class="card-reveal">
       <span class="card-title grey-text text-darken-4">{{ vis_dict.title }}
        <i class="material-icons right large">arrow_drop_down</i></span>
       {{ vis_dict.card_reveal_html|safe }}
      </div>
      <div class="card-content">
       <span class="card-title activator grey-text text-darken-4">
        <i class="material-icons right large">arrow_drop_up</i></span>
       {{ vis_dict.card_content_html|safe }}
      </div>
      <div class="card-action center">
       <a href="/visions/story/{{ vis_dict.vision_file_no_ext }}"
          class="waves-effect waves-light btn">Read the Story</a>
      </div>
     </div><!-- .card -->
    </div><!-- .people-card -->
   {% elif vis_dict.vision_type == 'groups' %}
    <div class="groups-card z-depth-3">
     <h2 class="header center">{{ vis_dict.title }}</h2>
     <div class="z-depth-3 groups-images">
      <div class="card horizontal">
       {% for image_data_dict in vis_dict.image_data %}
        <div class="card-image group-image">
         <h5 class="center">{{ image_data_dict.name }}</h5>
         <img src="{% static image_data_dict.image_file_path %}">
        </div>
       {% endfor %}
      </div><!-- .card .horizontal -->
      {% if vis_dict.subtitle %}
       <h4 class='center'>{{ vis_dict.subtitle }}</h4>
      {% endif %}
     </div><!-- .z-depth-3 -->
     <div class="card">
      <div class="card-content">
       {{ vis_dict.card_content_html|safe }}
      </div>
      <div class="card-action center">
       <a href="/visions/story/{{ vis_dict.vision_file_no_ext }}"
          class="waves-effect waves-light btn">Read the Story</a>
      </div>
     </div><!-- .card -->
    </div><!-- .groups-card  .z-depth-3 -->
   {% else %}
    <div class="card z-depth-3">
     <div class="card-content">
      {{ vis_dict.card_content_html|safe }}
     </div><!-- .card-content -->
    </div><!-- .card -->
   {% endif %}
   </div><!-- .col -->
  {% endfor %}

  </div><!-- .row -->
 </div><!-- .section -->
</div><!-- .container -->

{% endblock %}
